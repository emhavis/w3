(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[996],{4605:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return N}});var t=r(4942),a=r(5861),o=r(7757),u=r.n(o),i=r(241),c=r(387),s=r(7616),p=r(7294),l=r(2484),d=r.n(l),h=r(2130),f=r(2025),m=r(1615),g=r(1163),x=r(7928),k=r(5893);function v(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function j(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var b=(0,h.Ue)("https://ipfs.infura.io:5001/api/v0");function N(){var e=(0,p.useState)(null),n=e[0],r=e[1],t=(0,p.useState)({price:"",name:"",description:"",merek:""}),o=t[0],l=t[1],h=(0,g.useRouter)();function v(){return(v=(0,a.Z)(u().mark((function e(n){var t,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.target.files[0],e.prev=1,e.next=4,b.add(t,{progress:function(e){return console.log("received: ".concat(e))}});case 4:a=e.sent,o="https://ipfs.infura.io/ipfs/".concat(a.path),r(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log("Error uploading file:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function N(){return(N=(0,a.Z)(u().mark((function e(){var r,t,a,i,c,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.name,t=o.description,a=o.price,i=o.merk,r&&t&&a&&n){e.next=3;break}return e.abrupt("return");case 3:return c=JSON.stringify({name:r,description:t,merk:i,image:n}),e.prev=4,e.next=7,b.add(c);case 7:s=e.sent,w("https://ipfs.infura.io/ipfs/".concat(s.path)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log("Error uploading file:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)(u().mark((function e(n){var r,t,a,p,l,g,k,v,j,b,N,w;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new(d()),e.next=3,r.connect();case 3:return t=e.sent,a=new i.Q(t),p=a.getSigner(),l=new c.CH(f.k,m.Mt,p),e.next=9,l.mintToken(n);case 9:return g=e.sent,e.next=12,g.wait();case 12:return k=e.sent,v=k.events[0],j=v.args[2],b=j.toNumber(),N=s.vz(o.price,"ether"),l=new c.CH(f.A,x.Mt,p),e.next=20,l.getListingPrice();case 20:return w=(w=e.sent).toString(),e.next=24,l.makeMarketItem(f.k,b,N,{value:w});case 24:return g=e.sent,e.next=27,g.wait();case 27:h.push("./");case 28:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,k.jsx)("div",{className:"flex justify-center",children:(0,k.jsxs)("div",{className:"w-1/2 flex flex-col pb-12",children:[(0,k.jsx)("input",{placeholder:"Nama Produk",className:"mt-8 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{name:e.target.value}))}}),(0,k.jsx)("input",{placeholder:"Komoditas",className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{komoditas:e.target.value}))}}),(0,k.jsxs)("select",{className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{merk:e.target.value}))},children:[(0,k.jsx)("option",{value:"",children:"Pilih Merk"}),(0,k.jsx)("option",{value:"merek 1",children:"Merek 1"}),(0,k.jsx)("option",{value:"merek 2",children:"Merek 2"})]}),(0,k.jsx)("input",{placeholder:"Penyedia",className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{penyedia:e.target.value}))}}),(0,k.jsx)("input",{placeholder:"No Produk (penyedia)",className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{no_produk:e.target.value}))}}),(0,k.jsxs)("select",{className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{jenis_produk:e.target.value}))},children:[(0,k.jsx)("option",{children:"Lokal"}),(0,k.jsx)("option",{children:"Import"})]}),(0,k.jsxs)("select",{className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{unit_pengukuran:e.target.value}))},children:[(0,k.jsx)("option",{children:"Pilih Semua"}),(0,k.jsx)("option",{children:"pengukuran 1"}),(0,k.jsx)("option",{children:"pengukuran 2"})]}),(0,k.jsx)("input",{placeholder:"Berlaku Sampai",className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{berlaku_sampai:e.target.value}))}}),(0,k.jsx)("input",{placeholder:"Jumlah Stock Produk",className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{stock_produk:e.target.value}))}}),(0,k.jsx)("input",{placeholder:"Jumlah Stock Inden",className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{stock_inden:e.target.value}))}}),(0,k.jsxs)("select",{className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{unit_pengukuran:e.target.value}))},children:[(0,k.jsx)("option",{children:"Pilih Kategori Produk"}),(0,k.jsx)("option",{children:"kategori 1"}),(0,k.jsx)("option",{children:"kategori 2"})]}),(0,k.jsx)("input",{placeholder:"TKDN(%)",className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{tkdn:e.target.value}))}}),(0,k.jsx)("textarea",{placeholder:"Product Description",className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{description:e.target.value}))}}),(0,k.jsx)("input",{placeholder:"Product Price in Eth",className:"mt-2 border rounded p-4",onChange:function(e){return l(j(j({},o),{},{price:e.target.value}))}}),(0,k.jsx)("input",{type:"file",name:"Asset",className:"mt-4",onChange:function(e){return v.apply(this,arguments)}})," ",n&&(0,k.jsx)("img",{className:"rounded mt-4",width:"350px",src:n}),(0,k.jsx)("button",{onClick:function(){return N.apply(this,arguments)},className:"font-bold mt-4 bg-purple-500 text-white rounded p-4 shadow-lg",children:"Save Product"})]})})}},3676:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/mint-item",function(){return r(4605)}])},3897:function(){},8795:function(){}},function(e){e.O(0,[277,353,260,605,774,888,179],(function(){return n=3676,e(e.s=n);var n}));var n=e.O();_N_E=n}]);